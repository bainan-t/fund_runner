# fund runner
一个小工具合集，包括拉取某基金的历史净值数据、用若干策略在给定时间区间的数据去做判断得到的盈利信息。

## 拉取数据
给定基金的编号列表，将给出这些基金的所有历史净值数据，并保存到funds.json文件中

## 运行策略并获得对应回溯区间内每日的盈利情况数组
这里我们将策略定义为strategy(本日以前该基金的所有净值数据，本日以前按当前策略得到的盈利情况，本日以前按当前策略做出的所有买入卖出决策，当前持仓情况（份额和所有本金数目），当前剩余可投资金额)，
而返回值则为本日的决策，买入卖出还是维持不变，以及对应数目。

从回溯开始区间一直运用策略至回溯结束区间，即可得到每日盈利情况数组

ps：假设所有决策都在本日15：00（T日）前进行，决策在次个工作日15:00前生效（T+1），按T日基金净值计算决策份额

### 策略
#### 定投
每特定时间段固定投入固定数目
时间段：每日、每周、每两周、每月，后者可具体区分周几和月几
固定数目：方便起见固定为100，因为主要看收益率，在本策略下与数目其实无关
同时在每次定投时机前判断当前收益率是否达到特定目标，并决定是否撤出给定数目（比如100撤出全部，50撤出80，20撤出50，10撤出30等）

### 优化型定投
在定投的基础上考虑上最近几天净值趋势，用以确认本次定投的数目
暂定为最近十四天
avg = 最近十四天的平均净值
last = 昨天的净值
max = 最近十四天的最大值
min = 最近十四天的最小值
fix = 100
currentVal = fix/2 + fix*(max-last)/(max-min)

### 逆风投
每若干天下跌总额超过某一阈值后买入特定数目（与时间和阈值以及当前持仓价关联的数值）

如10天下跌超过5%后买入100

### 其他策略：
TODO：查询文献后添加

## 展示收益图表
使用统计画图库将收益图标绘制成折线图，方便直观看收益情况